{% extends 'curriculum/base.html' %}
{% load static %}

{% block title %}Perfil Profesional - {{ perfil.nombres }}{% endblock %}

{% block content %}
<div class="grid lg:grid-cols-2 gap-12 items-center min-h-[75vh] transition-colors duration-500 
            ml-10 lg:ml-22 xl:ml-30">
    
    <!-- Lado Izquierdo: Texto Persuasivo -->
    <div class="relative z-10 fade-in">
        <div class="flex items-center gap-3 mb-8">
            <div class="h-[2px] w-12 bg-pink-400"></div>
            <span class="text-pink-500 font-bold tracking-[0.2em] text-xs uppercase">Portfolio Personal</span>
        </div>
        
        <!-- El título cambia de negro a blanco puro en modo oscuro -->
        <h1 class="text-5xl md:text-7xl font-black mb-8 leading-[0.95] text-[#1a1a1a] dark:text-white transition-colors duration-300">
            BIENVENIDO A MI <br /> 
            <span class="text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 uppercase italic tracking-tighter">
                PERFIL PROFESIONAL
            </span>
        </h1>
        
        {% if perfil.descripcion_perfil %}
            <div class="p-6 rounded-[2.5rem] overflow-hidden relative">
                <div class="absolute -top-2 -right-2 opacity-10">
                    <i data-lucide="quote" size="40" class="text-pink-500"></i>
                </div>
                <h3 class="text-[14px] font-black uppercase tracking-[0.4em] text-pink-500 mb-3 italic">﹌﹌﹌﹌﹌﹌﹌﹌﹌﹌﹌﹌﹌﹌</h3>
                <!-- Texto descriptivo: Gris oscuro a gris claro para legibilidad -->
                <p class="text-gray-800 dark:text-gray-300 font-bold italic leading-tight transition-colors">
                    "{{ perfil.descripcion_perfil }}"
                </p>
            </div>
        {% endif %} 

        <div class="flex flex-wrap gap-4 mt-8">
            <!-- Botón Proyectos: De Negro a Blanco/Rosa en Dark -->
            <a href="{% url 'trabajos' %}" class="px-10 py-6 bg-[#1a1a1a] dark:bg-pink-600 text-white font-black rounded-full shadow-2xl hover:scale-105 transition-all uppercase text-[10px] tracking-widest flex items-center gap-3">
                Explorar mi Trayectoria <i data-lucide="arrow-right" class="w-4 h-4"></i>
            </a>
            
            <!-- Botón Generar CV: De Blanco a borde rosa en Dark -->
            <a href="{% url 'generar_cv' %}" target="_blank" class="px-10 py-6 bg-white dark:bg-transparent border border-gray-100 dark:border-pink-500/30 text-gray-800 dark:text-white font-black rounded-full shadow-lg hover:shadow-pink-100 dark:hover:shadow-pink-900/20 hover:scale-105 transition-all uppercase text-[10px] tracking-widest flex items-center gap-3">
                Generar Hoja de Vida <i data-lucide="file-text" class="w-4 h-4 text-pink-400"></i>
            </a>
        </div>
    </div>

    <!-- Lado Derecho: Fotografía -->
    <div class="relative flex justify-center items-center">
        <!-- Aura: Más intensa en modo oscuro -->
        <div class="absolute inset-0 bg-pink-200/30 dark:bg-pink-600/20 blur-[120px] rounded-full animate-pulse"></div>
        
        <div class="relative w-full max-w-[450px]">
            <!-- Blob: Cambia ligeramente de tono en dark -->
            <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" class="absolute inset-0 w-full h-full drop-shadow-2xl opacity-80 dark:opacity-40 transition-opacity">
                <path fill="#FF7EB9" d="M44.7,-76.4C58.1,-69.2,69.5,-57.4,76.5,-43.8C83.5,-30.2,86.2,-15.1,84.1,-0.6C81.9,13.8,75,27.7,66.6,40.1C58.1,52.4,48.2,63.3,35.8,70.1C23.4,76.9,8.5,79.5,-6.6,77.3C-21.7,75.1,-37,68,-49.6,58.1C-62.2,48.2,-72.1,35.4,-77.8,20.8C-83.5,6.2,-85,-10.1,-80.7,-25.2C-76.4,-40.3,-66.2,-54.2,-52.8,-61.4C-39.4,-68.5,-22.8,-69,-7.2,-75.7C8.4,-82.5,23.1,-83.6,44.7,-76.4Z" transform="translate(100 100)" />
            </svg>

            <!-- Marco de la Fotografía: El borde blanco resalta mucho mejor en fondo oscuro -->
            <div class="relative z-10 p-4">
                {% if perfil and perfil.foto %}
                    <div class="rounded-[4rem] overflow-hidden border-[15px] border-white dark:border-white shadow-[0_30px_60px_-15px_rgba(0,0,0,0.3)] rotate-3 hover:rotate-0 transition-transform duration-700 aspect-[4/5] group cursor-pointer bg-white">
                        <img src="{{ perfil.foto.url }}" 
                             alt="Fotografía de {{ perfil.nombres }}" 
                             class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
                             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        
                        <div class="hidden w-full h-full bg-gray-50 dark:bg-zinc-900 flex-col items-center justify-center p-8 text-center">
                            <i data-lucide="image-off" class="w-12 h-12 text-gray-200 dark:text-zinc-700 mb-4"></i>
                            <p class="text-[9px] font-black text-gray-300 dark:text-zinc-600 uppercase tracking-widest">Error de carga</p>
                        </div>
                    </div>
                {% else %}
                    <div class="rounded-[4rem] overflow-hidden border-[15px] border-white shadow-2xl rotate-3 aspect-[4/5] bg-gradient-to-br from-pink-50 to-purple-50 dark:from-zinc-800 dark:to-zinc-900 flex flex-col items-center justify-center">
                        <div class="p-8 text-center">
                            <i data-lucide="user-x" class="w-20 h-20 mx-auto text-pink-200 dark:text-pink-900 mb-6"></i>
                            <p class="text-[10px] font-black text-pink-300 dark:text-pink-800 uppercase tracking-[0.3em] leading-relaxed">
                                Sube tu fotografía
                            </p>
                        </div>
                    </div>
                {% endif %}

                <!-- Elementos Flotantes: Fondo blanco a negro en dark -->
                <div class="absolute -top-6 -right-6 p-5 bg-white dark:bg-zinc-900 rounded-[2rem] shadow-2xl animate-bounce border dark:border-zinc-800" style="animation-duration: 4s;">
                    <i data-lucide="sparkles" class="text-yellow-400 w-8 h-8"></i>
                </div>
                <div class="absolute -bottom-10 -left-10 p-6 bg-[#1a1a1a] dark:bg-pink-600 rounded-[2rem] shadow-2xl animate-pulse border-4 border-white dark:border-zinc-900">
                    <i data-lucide="star" class="text-pink-400 dark:text-white w-8 h-8 fill-current"></i>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .fade-in { animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
</style>
{% endblock %}