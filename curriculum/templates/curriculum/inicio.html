{% extends 'curriculum/base.html' %}
{% load static %}

{% block title %}Perfil Profesional - {{ perfil.nombres }}{% endblock %}

{% block content %}
<div class="grid lg:grid-cols-2 gap-12 items-center min-h-[75vh] transition-colors duration-500 
            ml-10 lg:ml-22 xl:ml-30">
    
    <!-- Lado Izquierdo: Texto Persuasivo -->
    <div class="relative z-10 fade-in">
        <div class="inline-flex items-center gap-3 px-5 py-2 bg-white dark:bg-white/5 rounded-full border border-bloom-accent/20 mb-8 shadow-sm">
            <span class="text-bloom-accent dark:text-bloom-lime text-lg">êôö</span>
            <span class="text-bloom-accent dark:text-bloom-lime font-black tracking-[0.3em] text-[9px] uppercase">
                Portfolio Personal
            </span>
        </div>
        
        <!-- El t√≠tulo cambia de negro a blanco puro en modo oscuro -->
        <h1 class="text-5xl md:text-7xl font-black mb-8 leading-[0.95] text-[#1a1a1a] dark:text-white transition-colors duration-300">
            BIENVENIDO A MI  <br /> 
            <span class="text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 uppercase italic tracking-tighter">
            PERFIL PROFESIONAL
            </span>
        </h1>
        
         {% if perfil.descripcion_perfil %}
            <!-- CORRECCI√ìN VISUAL: Tarjeta con efecto cristal (Glassmorphism) -->
            <div class="p-8 rounded-[2.5rem] relative mb-10 bg-white/60 dark:bg-zinc-800/40 backdrop-blur-md border border-white/50 dark:border-white/10 shadow-xl dark:shadow-pink-900/5">
                
                <!-- Icono de cita decorativo -->
                <div class="absolute -top-4 -right-2 opacity-20 rotate-12">
                    <i data-lucide="quote" class="w-16 h-16 text-pink-500"></i>
                </div>
                
                <h3 class="text-[10px] font-black uppercase tracking-[0.4em] text-pink-500 mb-4 flex items-center gap-2">
                    <span class="w-2 h-2 rounded-full bg-pink-500"></span> SOBRE M√ç
                </h3>
                
                <!-- CORRECCI√ìN DE TEXTO: |linebreaksbr respeta los espacios del admin -->
                <div class="text-gray-700 dark:text-gray-300 font-medium italic leading-relaxed text-lg text-justify pr-2">
                    {{ perfil.descripcion_perfil|linebreaksbr }}
                </div>
            </div>
            
        {% endif %} 

        <div class="flex flex-wrap gap-4 mt-8">
            <!-- Bot√≥n Proyectos: De Negro a Blanco/Rosa en Dark -->
            <a href="{% url 'experiencia' %}" class="px-10 py-6 bg-[#1a1a1a] dark:bg-pink-600 text-white font-black rounded-full shadow-2xl hover:scale-105 transition-all uppercase text-[10px] tracking-widest flex items-center gap-3">
                Explorar mi Trayectoria <i data-lucide="arrow-right" class="w-4 h-4"></i>
            </a>
            
            <!-- Bot√≥n Generar CV: De Blanco a borde rosa en Dark -->
            <a href="{% url 'generar_cv' %}" target="_blank" class="px-10 py-6 bg-white dark:bg-transparent border border-gray-100 dark:border-pink-500/30 text-gray-800 dark:text-white font-black rounded-full shadow-lg hover:shadow-pink-100 dark:hover:shadow-pink-900/20 hover:scale-105 transition-all uppercase text-[10px] tracking-widest flex items-center gap-3">
                Generar Hoja de Vida <i data-lucide="file-text" class="w-4 h-4 text-pink-400"></i>
            </a>
        </div>
    </div>

    <!-- Lado Derecho: Fotograf√≠a -->
    <div class="relative flex justify-center items-center">
        <!-- Aura: M√°s intensa en modo oscuro -->
        <div class="absolute inset-0 bg-pink-200/30 dark:bg-pink-600/20 blur-[120px] rounded-full animate-pulse"></div>
        
        <div class="relative w-full max-w-[450px]">
            <!-- Blob: Cambia ligeramente de tono en dark -->
            <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" class="absolute inset-0 w-full h-full drop-shadow-2xl opacity-80 dark:opacity-40 transition-opacity">
                <path fill="#FF7EB9" d="M44.7,-76.4C58.1,-69.2,69.5,-57.4,76.5,-43.8C83.5,-30.2,86.2,-15.1,84.1,-0.6C81.9,13.8,75,27.7,66.6,40.1C58.1,52.4,48.2,63.3,35.8,70.1C23.4,76.9,8.5,79.5,-6.6,77.3C-21.7,75.1,-37,68,-49.6,58.1C-62.2,48.2,-72.1,35.4,-77.8,20.8C-83.5,6.2,-85,-10.1,-80.7,-25.2C-76.4,-40.3,-66.2,-54.2,-52.8,-61.4C-39.4,-68.5,-22.8,-69,-7.2,-75.7C8.4,-82.5,23.1,-83.6,44.7,-76.4Z" transform="translate(100 100)" />
            </svg>

            <!-- Marco de la Fotograf√≠a: El borde blanco resalta mucho mejor en fondo oscuro -->
            <div class="relative z-10 p-4">
                {% if perfil and perfil.foto %}
                    <div class="rounded-[4rem] overflow-hidden border-[15px] border-white dark:border-white shadow-[0_30px_60px_-15px_rgba(0,0,0,0.3)] rotate-3 hover:rotate-0 transition-transform duration-700 aspect-[4/5] group cursor-pointer bg-white">
                        <img src="{{ perfil.foto.url }}" 
                             alt="Fotograf√≠a de {{ perfil.nombres }}" 
                             class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
                             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        
                        <div class="hidden w-full h-full bg-gray-50 dark:bg-zinc-900 flex-col items-center justify-center p-8 text-center">
                            <i data-lucide="image-off" class="w-12 h-12 text-gray-200 dark:text-zinc-700 mb-4"></i>
                            <p class="text-[9px] font-black text-gray-300 dark:text-zinc-600 uppercase tracking-widest">Error de carga</p>
                        </div>
                    </div>
                {% else %}
                    <div class="rounded-[4rem] overflow-hidden border-[15px] border-white shadow-2xl rotate-3 aspect-[4/5] bg-gradient-to-br from-pink-50 to-purple-50 dark:from-zinc-800 dark:to-zinc-900 flex flex-col items-center justify-center">
                        <div class="p-8 text-center">
                            <i data-lucide="user-x" class="w-20 h-20 mx-auto text-pink-200 dark:text-pink-900 mb-6"></i>
                            <p class="text-[10px] font-black text-pink-300 dark:text-pink-800 uppercase tracking-[0.3em] leading-relaxed">
                                Sube tu fotograf√≠a
                            </p>
                        </div>
                    </div>
                {% endif %}

                <!-- Stickers Flotantes -->
                <!-- Flor Lima Superior -->
                <div class="absolute -top-8 -right-8 p-5 bg-pink-100 text-pink-500 rounded-[2.5rem] shadow-2xl animate-bounce border-4 border-white dark:border-zinc-800 z-20" style="animation-duration: 5s;">
                    <i data-lucide="flower" size="28"></i>
                </div>
                <!-- Lazo Coquette Inferior -->
                <div class="absolute -bottom-10 -left-10 p-6 bg-[#1a1a1a] text-white rounded-[2.5rem] shadow-2xl border-4 border-white dark:border-zinc-800 group-hover:scale-110 transition-transform flex flex-col items-center z-20">
                    <span class="text-3xl leading-none">êôö</span>
                    <p class="text-[8px] font-black uppercase tracking-tighter mt-2 text-pink-400">Curated Mind</p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .fade-in { animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
</style>
{% endblock %}