{% extends 'curriculum/base.html' %}
{% load static %}

{% block title %}Inicio | {{ perfil.nombres }}{% endblock %}

{% block content %}
<div class="grid lg:grid-cols-2 gap-16 items-center min-h-[80vh] relative">
    
    <!-- Lado Izquierdo: Contenido Textual Editorial -->
    <div class="relative z-10 fade-in">
        <!-- Badge de Bienvenida con estilo "Lazo" -->
        <div class="inline-flex items-center gap-3 px-5 py-2 bg-white dark:bg-white/5 rounded-full border border-bloom-accent/20 mb-8 shadow-sm">
            <span class="text-bloom-accent dark:text-bloom-lime text-lg">êôö</span>
            <span class="text-bloom-accent dark:text-bloom-lime font-black tracking-[0.3em] text-[9px] uppercase">
                Welcome to my creative space
            </span>
        </div>
        
        <!-- T√≠tulo Principal Extravagante -->
        <h1 class="text-6xl md:text-8xl font-display font-black mb-8 leading-[0.85] text-bloom-espresso dark:text-white transition-colors">
            BIENVENIDO <br /> 
            <span class="text-transparent bg-clip-text bg-gradient-to-r from-bloom-accent via-bloom-accent to-bloom-lime uppercase italic tracking-tighter">
                A MI PERFIL
            </span>
        </h1>
        
        <!-- Bloque de Bio Estilo Editorial con Flor -->
        {% if perfil.descripcion_perfil %}
            <div class="mb-10 max-w-lg relative group">
                <div class="absolute -left-8 top-2 text-bloom-lime opacity-40 group-hover:rotate-12 transition-transform">
                    <i data-lucide="flower-2" size="32"></i>
                </div>
                <p class="text-xl md:text-2xl font-body font-light text-bloom-espresso dark:text-gray-300 leading-tight italic pl-4">
                    "{{ perfil.descripcion_perfil }}"
                </p>
                
                <!-- Valores Profesionales como Stickers / P√≠ldoras Soft -->
                <div class="mt-8 flex flex-wrap gap-3">
                    {% if perfil.valores_profesionales %}
                        {% for valor in perfil.valores_profesionales.split %}
                            <span class="text-[9px] font-black uppercase tracking-widest px-4 py-1.5 bg-bloom-lime/20 text-bloom-espresso dark:text-bloom-lime rounded-full border border-bloom-lime/30 shadow-sm transition-transform hover:scale-105">
                                ‚ú¶ {{ valor|cut:"," }}
                            </span>
                        {% endfor %}
                    {% endif %}
                </div>
            </div>
        {% endif %} 

        <!-- Acciones Principales con Estilo Pill -->
        <div class="flex flex-wrap gap-6 mt-12">
            <a href="{% url 'experiencia' %}" class="group relative px-10 py-5 bg-bloom-espresso dark:bg-bloom-accent text-white dark:text-bloom-night font-black rounded-full shadow-2xl transition-all hover:-translate-y-1 overflow-hidden">
                <div class="absolute inset-0 bg-bloom-lime translate-y-full group-hover:translate-y-0 transition-transform duration-500"></div>
                <span class="relative z-10 flex items-center gap-3 uppercase text-[10px] tracking-[0.2em] group-hover:text-bloom-espresso transition-colors">
                    Explorar Trayectoria <i data-lucide="arrow-right" class="w-4 h-4"></i>
                </span>
            </a>
            
            <a href="{% url 'generar_cv' %}" target="_blank" class="px-10 py-5 bg-white dark:bg-transparent border-2 border-bloom-accent/20 dark:border-bloom-lime/20 text-bloom-espresso dark:text-white font-black rounded-full shadow-lg hover:bg-bloom-pink dark:hover:bg-bloom-lime/10 transition-all uppercase text-[10px] tracking-[0.2em] flex items-center gap-3">
                Hoja de Vida <i data-lucide="flower" class="w-4 h-4 text-bloom-accent dark:text-bloom-lime"></i>
            </a>
        </div>
    </div>

    <!-- Lado Derecho: Fotograf√≠a con Composici√≥n Art√≠stica (Flor y Blob) -->
    <div class="relative flex justify-center items-center">
        <!-- Luces de Fondo -->
        <div class="absolute w-[120%] h-[120%] bg-bloom-accent/10 dark:bg-bloom-lime/5 blur-[120px] rounded-full animate-pulse"></div>
        
        <div class="relative w-full max-w-[480px]">
            <!-- Blob SVG Suave Bloom Accent -->
            <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" class="absolute inset-0 w-full h-full drop-shadow-3xl opacity-80 transition-all duration-1000 group-hover:scale-105">
                <path fill="#FC97B7" d="M42.7,-68.4C54.4,-61.7,62.1,-48.4,67.7,-34.8C73.3,-21.2,76.8,-7.4,74.7,5.8C72.6,19,64.9,31.7,55.1,42.4C45.3,53.1,33.4,61.8,20.4,66.4C7.4,71.1,-6.6,71.7,-20.2,68C-33.8,64.3,-47.1,56.3,-58.1,45.2C-69.1,34.1,-77.8,19.9,-79.8,4.7C-81.8,-10.5,-77.1,-26.7,-67.2,-39C-57.3,-51.3,-42.2,-59.7,-28.5,-65.4C-14.8,-71.1,0.5,-74.1,14.8,-74.1C29.1,-74.1,42.7,-71.1,42.7,-68.4Z" transform="translate(100 100)" />
            </svg>

            <!-- Marco de la Fotograf√≠a con Borde Editorial -->
            <div class="relative z-10 p-4">
                {% if perfil and perfil.foto %}
                    <div class="rounded-[4rem] overflow-hidden border-[15px] border-white dark:border-bloom-cardDark shadow-[0_50px_100px_-20px_rgba(0,0,0,0.2)] rotate-3 hover:rotate-0 transition-all duration-1000 aspect-[4/5] bg-white dark:bg-bloom-cardDark group">
                        <img src="{{ perfil.foto.url }}" 
                             alt="{{ perfil.nombres }}" 
                             class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000 grayscale hover:grayscale-0">
                    </div>
                {% else %}
                    <div class="rounded-[4rem] overflow-hidden border-[15px] border-white dark:border-bloom-cardDark shadow-2xl rotate-3 aspect-[4/5] bg-gradient-to-br from-bloom-pink to-white dark:from-bloom-cardDark dark:to-bloom-night flex flex-col items-center justify-center">
                        <i data-lucide="flower-2" class="w-20 h-20 text-bloom-accent opacity-20 mb-4 animate-spin-slow"></i>
                        <p class="text-[10px] font-black text-bloom-accent uppercase tracking-[0.3em]">Bloom Studio</p>
                    </div>
                {% endif %}

                <!-- Stickers Flotantes -->
                <!-- Flor Lima Superior -->
                <div class="absolute -top-8 -right-8 p-5 bg-bloom-lime text-bloom-espresso rounded-[2.5rem] shadow-2xl animate-bounce border-4 border-white dark:border-bloom-night" style="animation-duration: 5s;">
                    <i data-lucide="flower" size="28"></i>
                </div>
                <!-- Lazo Coquette Inferior -->
                <div class="absolute -bottom-10 -left-10 p-6 bg-bloom-espresso text-bloom-pink rounded-[2.5rem] shadow-2xl border-4 border-white dark:border-bloom-night group-hover:scale-110 transition-transform flex flex-col items-center">
                    <span class="text-3xl leading-none">êôö</span>
                    <p class="text-[8px] font-black uppercase tracking-tighter mt-2 text-bloom-lime">Curated Mind</p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    /* Tipograf√≠as espec√≠ficas para el look editorial */
    .font-display { font-family: 'Fraunces', serif; }
    .font-body { font-family: 'Outfit', sans-serif; }
    
    .fade-in { animation: fadeIn 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }

    @keyframes spin-slow {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    .animate-spin-slow { animation: spin-slow 12s linear infinite; }
</style>
{% endblock %}