{% extends 'curriculum/base.html' %}
{% load static %}

{% block title %}Perfil Profesional - {{ perfil.nombres }}{% endblock %}

{% block content %}
<div class="grid lg:grid-cols-2 gap-12 items-center min-h-[75vh]">
    
    <!-- Lado Izquierdo: Texto Persuasivo -->
    <div class="relative z-10 fade-in">
        <div class="flex items-center gap-3 mb-8">
            <div class="h-[2px] w-12 bg-pink-400"></div>
            <span class="text-pink-500 font-bold tracking-[0.2em] text-xs uppercase">Portfolio Personal</span>
        </div>
        
        <h1 class="text-5xl md:text-7xl font-black mb-8 leading-[0.95] text-[#1a1a1a]">
            BIENVENIDO A MI <br /> 
            <span class="text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 uppercase italic tracking-tighter">
                PERFIL PROFESIONAL
            </span>
        </h1>
        
        {% if perfil.descripcion_perfil %}
            <div class=" p-6 rounded-[2.5rem] overflow-hidden">
                <div class="absolute -top-2 -right-2 opacity-5">
                    <i data-lucide="quote" size="40" class="text-pink-500"></i>
                </div>
                <h3 class="text-[14px] font-black uppercase tracking-[0.4em] text-pink-500 mb-3 italic">﹌﹌﹌﹌﹌﹌﹌﹌﹌﹌﹌﹌﹌﹌</h3>
                <p class="text-gray-800 font-bold italic leading-tight">
                    "{{ perfil.descripcion_perfil }}"
                </p>
            </div>
            {% endif %} 
        <div class="flex flex-wrap gap-4">
            <!-- Botón Proyectos -->
            <a href="{% url 'trabajos' %}" class="px-10 py-6 bg-[#1a1a1a] text-white font-black rounded-full shadow-2xl hover:scale-105 transition-all uppercase text-[10px] tracking-widest flex items-center gap-3">
                Explorar mi Trayectoria <i data-lucide="arrow-right" class="w-4 h-4"></i>
            </a>
            
            <!-- Botón Generar Hoja de Vida Automática -->
            <a href="{% url 'generar_cv' %}" target="_blank" class="px-10 py-6 bg-white border border-gray-100 text-gray-800 font-black rounded-full shadow-lg hover:shadow-pink-100 hover:scale-105 transition-all uppercase text-[10px] tracking-widest flex items-center gap-3">
                Generar Hoja de Vida <i data-lucide="file-text" class="w-4 h-4 text-pink-400"></i>
            </a>
        </div>
    </div>

    <!-- Lado Derecho: Fotografía en Marco Extravagante -->
    <div class="relative flex justify-center items-center">
        <!-- Aura de brillo de fondo -->
        <div class="absolute inset-0 bg-pink-200/30 blur-[120px] rounded-full animate-pulse"></div>
        
        <div class="relative w-full max-w-[450px]">
            <!-- Blob Decorativo de Fondo -->
            <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" class="absolute inset-0 w-full h-full drop-shadow-2xl opacity-80">
                <path fill="#FF7EB9" d="M44.7,-76.4C58.1,-69.2,69.5,-57.4,76.5,-43.8C83.5,-30.2,86.2,-15.1,84.1,-0.6C81.9,13.8,75,27.7,66.6,40.1C58.1,52.4,48.2,63.3,35.8,70.1C23.4,76.9,8.5,79.5,-6.6,77.3C-21.7,75.1,-37,68,-49.6,58.1C-62.2,48.2,-72.1,35.4,-77.8,20.8C-83.5,6.2,-85,-10.1,-80.7,-25.2C-76.4,-40.3,-66.2,-54.2,-52.8,-61.4C-39.4,-68.5,-22.8,-69,-7.2,-75.7C8.4,-82.5,23.1,-83.6,44.7,-76.4Z" transform="translate(100 100)" />
            </svg>

            <!-- Marco de la Fotografía -->
            <div class="relative z-10 p-4">
                {% if perfil and perfil.foto %}
                    <div class="rounded-[4rem] overflow-hidden border-[15px] border-white shadow-[0_30px_60px_-15px_rgba(0,0,0,0.3)] rotate-3 hover:rotate-0 transition-transform duration-700 aspect-[4/5] group cursor-pointer bg-white">
                        <img src="{{ perfil.foto.url }}" 
                             alt="Fotografía de {{ perfil.nombres }}" 
                             class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
                             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        
                        <div class="hidden w-full h-full bg-gray-50 flex-col items-center justify-center p-8 text-center">
                            <i data-lucide="image-off" class="w-12 h-12 text-gray-200 mb-4"></i>
                            <p class="text-[9px] font-black text-gray-300 uppercase tracking-widest">Error de carga: Verifica la carpeta MEDIA</p>
                        </div>
                    </div>
                {% else %}
                    <div class="rounded-[4rem] overflow-hidden border-[15px] border-white shadow-2xl rotate-3 aspect-[4/5] bg-gradient-to-br from-pink-50 to-purple-50 flex flex-col items-center justify-center">
                        <div class="p-8 text-center">
                            <i data-lucide="user-x" class="w-20 h-20 mx-auto text-pink-200 mb-6"></i>
                            <p class="text-[10px] font-black text-pink-300 uppercase tracking-[0.3em] leading-relaxed">
                                Sube tu fotografía en el panel administrativo
                            </p>
                        </div>
                    </div>
                {% endif %}

                <!-- Elementos Flotantes -->
                <div class="absolute -top-6 -right-6 p-5 bg-white rounded-[2rem] shadow-2xl animate-bounce" style="animation-duration: 4s;">
                    <i data-lucide="sparkles" class="text-yellow-400 w-8 h-8"></i>
                </div>
                <div class="absolute -bottom-10 -left-10 p-6 bg-[#1a1a1a] rounded-[2rem] shadow-2xl animate-pulse">
                    <i data-lucide="star" class="text-pink-400 w-8 h-8 fill-pink-400"></i>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}