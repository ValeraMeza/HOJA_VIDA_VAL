{% extends 'curriculum/base.html' %}

{% block title %}Trayectoria Profesional - {{ perfil.nombres }}{% endblock %}

{% block content %}
<div class="fade-in max-w-7xl mx-auto pb-20">
    <!-- Título con soporte para modo oscuro -->
    <h2 class="text-5xl md:text-6xl font-black italic uppercase mb-20 tracking-tighter text-[#1a1a1a] dark:text-white leading-none transition-colors duration-300">
        Trayectoria<br><span class="text-pink-500">Profesional</span>
    </h2>
    
    <div class="grid gap-12 relative">
        <!-- Línea central decorativa dinámica -->
        <div class="absolute left-1/2 top-0 bottom-0 w-[1px] bg-pink-100 dark:bg-pink-900/30 hidden lg:block"></div>
        
        {% for exp in experiencias %}
        <div class="bg-white dark:bg-zinc-900 p-10 rounded-[3rem] border border-gray-100 dark:border-zinc-800 shadow-sm hover:shadow-2xl dark:hover:shadow-pink-500/5 transition-all group relative lg:w-[48%] {% if forloop.counter|divisibleby:2 %}lg:ml-auto{% endif %}">
            
            <!-- Conector visual a la línea central (opcional/decorativo) -->
            <div class="hidden lg:block absolute top-12 w-6 h-[1px] bg-pink-200 dark:bg-pink-800 
                {% if forloop.counter|divisibleby:2 %}-left-6{% else %}-right-6{% endif %}"></div>

            <div class="flex justify-between items-start mb-6">
                <!-- Contador de registro -->
                <span class="px-4 py-1 bg-[#1a1a1a] dark:bg-pink-600 text-white text-[10px] font-black rounded-full uppercase tracking-tighter transition-colors">
                    REG. {{ forloop.counter|stringformat:"02d" }}
                </span>
                <span class="text-pink-500 dark:text-pink-400 font-black text-xs uppercase tracking-widest bg-pink-50 dark:bg-pink-500/10 px-3 py-1 rounded-lg">
                    {{ exp.fecha_inicio }} — {{ exp.fecha_fin }}
                </span>
            </div>
            
            <h3 class="text-3xl font-black uppercase text-gray-800 dark:text-zinc-100 group-hover:text-pink-500 dark:group-hover:text-pink-400 transition-colors leading-tight mb-2">
                {{ exp.cargo }}
            </h3>
            
            <p class="text-blue-500 dark:text-blue-400 font-bold text-[10px] uppercase mb-6 tracking-[0.2em] flex items-center gap-2">
                <i data-lucide="building" size="14"></i>
                {{ exp.empresa }} <span class="text-gray-300 dark:text-zinc-700">|</span> {{ exp.ubicacion }}
            </p>
            
            <div class="relative">
                <div class="absolute left-0 top-0 bottom-0 w-1 bg-gray-50 dark:bg-zinc-800 rounded-full"></div>
                <p class="text-gray-500 dark:text-zinc-400 text-sm italic leading-relaxed pl-6">
                    "{{ exp.descripcion }}"
                </p>
            </div>

            <!-- Decoración flotante sutil -->
            <div class="absolute -right-2 -bottom-2 w-24 h-24 bg-pink-50 dark:bg-pink-900/10 rounded-full -z-10 opacity-0 group-hover:opacity-100 transition-opacity"></div>
        </div>
        {% empty %}
        <div class="bg-white dark:bg-zinc-900 p-16 rounded-[4rem] border-2 border-dashed border-gray-100 dark:border-zinc-800 text-center col-span-full transition-colors">
            <div class="w-20 h-20 bg-gray-50 dark:bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-6">
                <i data-lucide="briefcase" class="text-gray-300 dark:text-zinc-600" size="32"></i>
            </div>
            <p class="text-gray-400 dark:text-zinc-500 italic font-medium">No se han registrado experiencias profesionales.</p>
        </div>
        {% endfor %}
    </div>
</div>

<style>
    .fade-in { animation: fadeIn 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
</style>
{% endblock %}